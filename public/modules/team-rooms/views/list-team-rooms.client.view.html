<section data-ng-controller="TeamRoomsController" >
    <div class="page-header">
        <h1>Team rooms</h1>
    </div>

    <div class="pull-right">
      <a type="button" class="btn btn-success" href="/#!/team-rooms/create">
        <i class="glyphicon glyphicon-open"></i> New TeamRoom
      </a>
    </div>

    <div>
        <table ng-table="tableParams" show-filter="true">
            <tr ng-repeat="teamRoom in $data">

                <!--//Roommate1: {-->
                <!--//Roommate2: {-->
                <!--//RoomNumber: {-->
                <!--//Building: {-->
                <td>
                    <div class="table-actions">

                    <button class="btn btn-default btn-sm" ng-click="teamRoom.isEditing = true" ng-if="!teamRoom.isEditing">
                        <span class="glyphicon glyphicon-pencil">
                        </span>
                    </button>
                    <button class="btn btn-default btn-sm" ng-click="updateAndReload(teamRoom)" ng-if="teamRoom.isEditing">
                        <span class="glyphicon glyphicon-ok">
                        </span>
                    </button>
                    <button class="btn btn-default btn-sm" ng-click="teamRoom.isEditing = false" ng-if="teamRoom.isEditing">
                        <span class="glyphicon glyphicon-remove">
                        </span>
                    </button>
                    </div>
                </td>
                <td data-title="'Building'" sortable="'Building'" filter="{ 'Building': 'text' }">{{teamRoom.Building}}</td>
                <td data-title="'RoomNumber'" sortable="'RoomNumber'" filter="{ 'RoomNumber': 'text' }">
                    <div ng-if="!teamRoom.isEditing">{{teamRoom.RoomNumber}}</div>
                    <div ng-if="teamRoom.isEditing" class="editable-text">
                        <select ng-model="teamRoom.RoomNumber">
                            <option value='401'>401</option>
                            <option value='402'>402</option>
                            <option value='403'>403</option>
                            <option value='404'>404</option>
                            <option value='405'>405</option>
                            <option value='406'>406</option>
                            <option value='407'>407</option>
                            <option value='408'>408</option>
                            <option value='409'>409</option>
                            <option value='410'>410</option>
                            <option value='411'>411</option>
                            <option value='412'>412</option>
                            <option value='501'>501</option>
                            <option value='502'>502</option>
                            <option value='503'>503</option>
                            <option value='504'>504</option>
                            <option value='505'>505</option>
                            <option value='506'>506</option>
                            <option value='507'>507</option>
                            <option value='508'>508</option>
                            <option value='509'>509</option>
                            <option value='510'>510</option>
                            <option value='511'>511</option>
                            <option value='512'>512</option>
                            <option value='308'>308</option>
                            <option value='309'>309</option>
                            <option value='310'>310</option>
                            <option value='311'>311</option>
                            <option value='312'>312</option>
                            <option value='313'>313</option>
                            <option value='314'>314</option>
                            <option value='NurseRoom'>NurseRoom</option>
                            <option value='HillCrest1'>HillCrest1</option>
                            <!--// 49 - 63 Southhall-->
                            <option value='49ng'>49</option>
                            <option value='50'>50</option>
                            <option value='51'>51</option>
                            <option value='52'>52</option>
                            <option value='53'>53</option>
                            <option value='54'>54</option>
                            <option value='55'>55</option>
                            <option value='56'>56</option>
                            <option value='57'>57</option>
                            <option value='58'>58</option>
                            <option value='59'>59</option>
                            <option value='60'>60</option>
                            <option value='61'>61</option>
                            <option value='62'>62</option>
                            <option value='63'>63</option>

                        </select>
                    </div>

                </td>
                <td data-title="'Roommate1'" sortable="'Roommate1'" filter="{ 'Roommate1': 'text' }"><team-room-team-member-name memberid="{{teamRoom.Roommate1}}"/></td>
                <td data-title="'Roommate2'" sortable="'Roommate2'" filter="{ 'Roommate2': 'text' }"><team-room-team-member-name memberid="{{teamRoom.Roommate2}}"/></td>
                <td data-title="'Roommates'" sortable="'Roommates'" filter="{ 'Roommates': 'text' }" ng-repeat="thismate in teamRoom.Roommates"><team-room-team-member-name memberid="{{thismate}}"/></td>
                <td>
                   <div class="table-actions">
                        <a class="btn btn-default" title="View" href="/#!/team-rooms/{{teamRoom._id}}">
                            <span class="glyphicon glyphicon-eye-open"></span>
                        </a>
                        <a class="btn btn-default" title="Edit" href="/#!/team-rooms/{{teamRoom._id}}/edit">
                            <span class="glyphicon glyphicon-edit"></span>
                        </a>
                        <a class="btn btn-danger" title="Remove" ng-really-message="Are you sure ?" ng-really-click="remove(teamRoom)" item="teamRoom">
                  				<span class="glyphicon glyphicon-remove-circle"></span>
                  			</a>
                    </div>
                </td>
            </tr>
            <tr>
                <a type="button" class="btn btn-success " title='Export' ng-csv="cvsMe(tableParams.data)"  filename="team-rooms.csv">
                    <span class="glyphicon glyphicon-export"></span>Export To CSV</a>
                <a type="button" disabled="{{tableParams.data.length > 0}}" class="btn btn-info " title='Pull' ng-click="pullDataFromMains(tableParams.data)" >
                    <span class="glyphicon glyphicon-inbox"></span>Import Room Mates From Main List</a>
                <a type="button"  class="btn btn-info " title='Pull' ng-click="pushRoomNumberToTeamTables(tableParams.data)" >
                    <span class="glyphicon glyphicon-bullhorn"></span>Export Room Number to Main List</a>
            </tr>
        </table>
    </div>
</section>
